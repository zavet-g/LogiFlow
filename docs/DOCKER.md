# Docker –¥–ª—è LogiFlow

–ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ LogiFlow –≤ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö.

---

## üì¶ –°–æ—Å—Ç–∞–≤

- **Dockerfile** ‚Äî —Å–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞ Django + Poetry
- **docker-compose.yml** ‚Äî –∑–∞–ø—É—Å–∫ Django + PostgreSQL
- **.dockerignore** ‚Äî –∏—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è —Å–±–æ—Ä–∫–∏
- **Makefile** ‚Äî —É–¥–æ–±–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è Docker

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. **–°–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑—ã**
   ```bash
   make build
   ```
2. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç**
   ```bash
   make up
   ```
3. **–ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏**
   ```bash
   make d-migrate
   ```
4. **–°–æ–∑–¥–∞—Ç—å —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**
   ```bash
   make d-superuser
   ```
5. **–û—Ç–∫—Ä—ã—Ç—å —Å–∞–π—Ç**
   - http://localhost:8000
   - –ê–¥–º–∏–Ω–∫–∞: http://localhost:8000/admin/

---

## üõ† –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã Makefile

| –ö–æ–º–∞–Ω–¥–∞         | –û–ø–∏—Å–∞–Ω–∏–µ                                 |
|----------------|------------------------------------------|
| make build     | –°–æ–±—Ä–∞—Ç—å Docker-–æ–±—Ä–∞–∑—ã                    |
| make up        | –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –≤ —Ñ–æ–Ω–µ                  |
| make down      | –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã          |
| make logs      | –õ–æ–≥–∏ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤                       |
| make d-shell   | –û—Ç–∫—Ä—ã—Ç—å Django shell –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ        |
| make d-migrate | –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ          |
| make d-superuser | –°–æ–∑–¥–∞—Ç—å —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ  |

---

## ‚öôÔ∏è –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

- –í—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –±–∞–∑—ã –∏ Django –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å —á–µ—Ä–µ–∑ `.env` –∏–ª–∏ –≤ `docker-compose.yml`.
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:
  - POSTGRES_DB=logiflow
  - POSTGRES_USER=logiflow
  - POSTGRES_PASSWORD=logiflow
  - POSTGRES_HOST=db
  - POSTGRES_PORT=5432

---

## üêò –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–∑ PostgreSQL.
- –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ volume `pgdata` (–Ω–µ —Ç–µ—Ä—è—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ).
- –î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –±–∞–∑–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—é–±–æ–π –∫–ª–∏–µ–Ω—Ç PostgreSQL:
  - host: localhost
  - port: 5432
  - user: logiflow
  - password: logiflow
  - db: logiflow

---

## üßë‚Äçüíª –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

- –ö–æ–¥ –º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (`volumes: - .:/app`), –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤–∏–¥–Ω—ã —Å—Ä–∞–∑—É.
- –î–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–æ–≤—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:
  ```bash
  docker compose exec web poetry add <package>
  ```
- –î–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤:
  ```bash
  docker compose exec web poetry run pytest
  ```

---

## üßπ –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –æ—á–∏—Å—Ç–∫–∞

- –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:
  ```bash
  make down
  ```
- –£–¥–∞–ª–∏—Ç—å volume –±–∞–∑—ã (–ø–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö!):
  ```bash
  docker compose down -v
  ```

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –î–ª—è production —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏ –∑–∞–ø—É—Å–∫–∞—Ç—å —á–µ—Ä–µ–∑ WSGI (gunicorn/uwsgi).
- –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ç–µ–∫—É—â–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.
- –í—Å–µ –∫–æ–º–∞–Ω–¥—ã –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –∫–∞–∫ —á–µ—Ä–µ–∑ Makefile, —Ç–∞–∫ –∏ –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ docker compose.

---

**LogiFlow + Docker** ‚Äî –±—ã—Å—Ç—Ä–æ, —É–¥–æ–±–Ω–æ, —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ! üê≥üöÄ 