# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Poetry –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è LogiFlow

–û—Ç—á–µ—Ç –æ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ Poetry –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ —Å–∏—Å—Ç–µ–º—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

## üéØ –¶–µ–ª–∏

1. **Poetry**: –ó–∞–º–µ–Ω–∏—Ç—å pip –Ω–∞ Poetry –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
2. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –°–æ–∑–¥–∞—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
3. **–ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞**: –û–±–µ—Å–ø–µ—á–∏—Ç—å –ø–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞ —Ç–µ—Å—Ç–∞–º–∏

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Poetry

- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Poetry 2.1.3
- ‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –ø—Ä–æ–µ–∫—Ç —Å `pyproject.toml`
- ‚úÖ –ü–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑ `requirements.txt`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã dev-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### 2. –°–∏—Å—Ç–µ–º–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

#### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- ‚úÖ **pytest** - –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- ‚úÖ **pytest-django** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Django
- ‚úÖ **pytest-cov** - –∏–∑–º–µ—Ä–µ–Ω–∏–µ –ø–æ–∫—Ä—ã—Ç–∏—è
- ‚úÖ **factory-boy** - —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

#### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- ‚úÖ `pytest.ini` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ pytest
- ‚úÖ `pyproject.toml` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Poetry
- ‚úÖ `delivery_project/test_settings.py` - —Ç–µ—Å—Ç–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Django
- ‚úÖ `conftest.py` - –≥–ª–æ–±–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è pytest

### 3. –¢–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã

#### –§–∞–±—Ä–∏–∫–∏ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö (`deliveries/factories.py`)
- ‚úÖ `UserFactory` - —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ `TransportModelFactory` - –º–æ–¥–µ–ª–∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞
- ‚úÖ `PackageTypeFactory` - —Ç–∏–ø—ã —É–ø–∞–∫–æ–≤–∫–∏
- ‚úÖ `ServiceFactory` - —É—Å–ª—É–≥–∏
- ‚úÖ `DeliveryStatusFactory` - —Å—Ç–∞—Ç—É—Å—ã –¥–æ—Å—Ç–∞–≤–∫–∏
- ‚úÖ `CargoTypeFactory` - —Ç–∏–ø—ã –≥—Ä—É–∑–∞
- ‚úÖ `DeliveryFactory` - –¥–æ—Å—Ç–∞–≤–∫–∏

#### –¢–µ—Å—Ç—ã –º–æ–¥–µ–ª–µ–π (`deliveries/test_models.py`)
- ‚úÖ –¢–µ—Å—Ç—ã —Å–æ–∑–¥–∞–Ω–∏—è –≤—Å–µ—Ö –º–æ–¥–µ–ª–µ–π
- ‚úÖ –¢–µ—Å—Ç—ã —Å—Ç—Ä–æ–∫–æ–≤—ã—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π
- ‚úÖ –¢–µ—Å—Ç—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –¢–µ—Å—Ç—ã —Å–≤—è–∑–µ–π –º–µ–∂–¥—É –º–æ–¥–µ–ª—è–º–∏
- ‚úÖ –ú–æ–¥—É–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã —Å `@pytest.mark.unit`

#### –¢–µ—Å—Ç—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π (`deliveries/test_views.py`)
- ‚úÖ –¢–µ—Å—Ç—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (login/logout)
- ‚úÖ –¢–µ—Å—Ç—ã —Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ—Ç—á–µ—Ç–∞
- ‚úÖ –¢–µ—Å—Ç—ã API endpoints
- ‚úÖ –¢–µ—Å—Ç—ã —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã —Å `@pytest.mark.integration`

#### –¢–µ—Å—Ç—ã —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä–æ–≤ (`deliveries/test_serializers.py`)
- ‚úÖ –¢–µ—Å—Ç—ã –ø–æ–ª–µ–π —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä–æ–≤
- ‚úÖ –¢–µ—Å—Ç—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –¢–µ—Å—Ç—ã –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
- ‚úÖ –¢–µ—Å—Ç—ã —Ñ–æ—Ä–º–∞—Ç–æ–≤ –¥–∞—Ç

#### –¢–µ—Å—Ç—ã URL (`deliveries/test_urls.py`)
- ‚úÖ –¢–µ—Å—Ç—ã –≤—Å–µ—Ö URL –º–∞—Ä—à—Ä—É—Ç–æ–≤
- ‚úÖ –¢–µ—Å—Ç—ã —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è URL –≤ view —Ñ—É–Ω–∫—Ü–∏–∏
- ‚úÖ –¢–µ—Å—Ç—ã DRF —Ä–æ—É—Ç–µ—Ä–æ–≤

#### –¢–µ—Å—Ç—ã –∞–¥–º–∏–Ω–∫–∏ (`deliveries/test_admin.py`)
- ‚úÖ –¢–µ—Å—Ç—ã –¥–æ—Å—Ç—É–ø–∞ –∫ –∞–¥–º–∏–Ω–∫–µ
- ‚úÖ –¢–µ—Å—Ç—ã —Å–ø–∏—Å–∫–æ–≤ –º–æ–¥–µ–ª–µ–π
- ‚úÖ –¢–µ—Å—Ç—ã –ø–æ–∏—Å–∫–∞ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
- ‚úÖ –¢–µ—Å—Ç—ã –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

### 4. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `README.md` —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ Poetry –∏ —Ç–µ—Å—Ç–∞—Ö
- ‚úÖ –°–æ–∑–¥–∞–Ω `TESTING.md` - –ø–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
- ‚úÖ –°–æ–∑–¥–∞–Ω `POETRY_SETUP.md` - –æ—Ç—á–µ—Ç –æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–µ—Å—Ç–æ–≤

### –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤: 56

**–ü–æ —Ç–∏–ø–∞–º:**
- –ú–æ–¥—É–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã: 15
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã: 5
- Django TestCase: 36

**–ü–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º:**
- –ú–æ–¥–µ–ª–∏: 15 —Ç–µ—Å—Ç–æ–≤
- –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è: 15 —Ç–µ—Å—Ç–æ–≤
- –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä—ã: 7 —Ç–µ—Å—Ç–æ–≤
- URL: 6 —Ç–µ—Å—Ç–æ–≤
- –ê–¥–º–∏–Ω–∫–∞: 13 —Ç–µ—Å—Ç–æ–≤

### –ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞
- **–¶–µ–ª—å**: 80% –ø–æ–∫—Ä—ã—Ç–∏—è
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∞**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
- **–û—Ç—á–µ—Ç—ã**: HTML, –∫–æ–Ω—Å–æ–ª—å, XML

## üöÄ –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã

### Poetry
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
poetry install

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
poetry add package-name

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ dev-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
poetry add --group dev package-name

# –ó–∞–ø—É—Å–∫ –∫–æ–º–∞–Ω–¥ –≤ –æ–∫—Ä—É–∂–µ–Ω–∏–∏ Poetry
poetry run python manage.py runserver
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
# –í—Å–µ —Ç–µ—Å—Ç—ã
poetry run pytest

# –¢–µ—Å—Ç—ã —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º
poetry run pytest --cov=deliveries --cov-report=html

# –ú–æ–¥—É–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã
poetry run pytest -m unit

# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
poetry run pytest -m integration

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–µ—Å—Ç
poetry run pytest deliveries/test_models.py::TransportModelTest::test_create_transport_model -v
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### pyproject.toml
```toml
[tool.poetry]
name = "logiflow"
version = "0.1.0"
description = "–°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Å—Ç–∏–∫–∏ –¥–æ—Å—Ç–∞–≤–æ–∫"

[tool.poetry.dependencies]
python = "^3.11"
Django = "4.2.7"
djangorestframework = "3.14.0"
# ... –¥—Ä—É–≥–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

[tool.poetry.group.dev.dependencies]
pytest = "^8.4.1"
pytest-django = "^4.11.1"
pytest-cov = "^6.2.1"
factory-boy = "^3.3.3"
```

### pytest.ini
```ini
[tool:pytest]
DJANGO_SETTINGS_MODULE = delivery_project.test_settings
addopts = 
    --cov=deliveries
    --cov=users
    --cov-report=html
    --cov-fail-under=80
markers =
    unit: marks tests as unit tests
    integration: marks tests as integration tests
```

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Poetry
- ‚úÖ –°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
- ‚úÖ –õ–æ–∫–∫–∏–Ω–≥ –≤–µ—Ä—Å–∏–π –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç–∏
- ‚úÖ –ì—Ä—É–ø–ø—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (prod/dev)
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å pyproject.toml

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ –ü–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞
- ‚úÖ –§–∞–±—Ä–∏–∫–∏ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –º–æ–¥—É–ª—å–Ω—ã–µ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å CI/CD

### –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É
- ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞
- ‚úÖ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ CI/CD

## üìà –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **CI/CD**: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ GitHub Actions –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
2. **–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤**: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ –¥–ª—è edge cases
3. **Performance —Ç–µ—Å—Ç—ã**: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
4. **E2E —Ç–µ—Å—Ç—ã**: End-to-end —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

---

**LogiFlow** —Ç–µ–ø–µ—Ä—å –∏–º–µ–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ –∏ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ! üöÄ‚ú® 